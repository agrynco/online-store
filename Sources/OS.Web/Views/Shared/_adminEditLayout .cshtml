@using OS.Web.Models
@model BaseCreateOrEditVireModel
@{
    Layout = "_adminLayout.cshtml";
}

@section content
{
    @{
        string currentControllerName = (string) ViewContext.RouteData.Values["controller"];
    }

    @using (Html.BeginForm("Save", currentControllerName, ViewContext.RouteData.Values, FormMethod.Post))
    {
        <table class="full-size" border="0">
            <tr class="min-height">
                <td colspan="3" class="min-width">@(Model.Id.HasValue ? "Редагування" : "Створення")</td>
            </tr>
            <tr class="min-height">
                <td></td>
                <td>
                    @Html.ValidationSummary()
                    @RenderSection("editor")
                </td>
                <td></td>
            </tr>
            <tr class="min-height">
                <td></td>
                <td class="min-width" style="white-space: nowrap">
                    <input type="submit" value="Зберегти" class="btn btn-default" />

                    @if (IsSectionDefined("cancelAction"))
                    {
                        @RenderSection("cancelAction")
                    }
                    else
                    {
                        @Html.ActionLink("Відмінити", "Index", currentControllerName,
                        new
                        {
                            onclick = "return confirmCancel();",
                            @class = "btn btn-default"
                        })
                    }
                </td>
                <td></td>
            </tr>
            <tr>
                <td colspan="3"></td>
            </tr>
        </table>
    }
}

@section scripts
{
    <script type="text/javascript">
        function confirmCancel() {
            return confirm("Ви впевненні що хочете повернутися до списку із втратою всіх зроблених змін?");
        }
    </script>

    @Scripts.Render("~/bundles/jqueryval")
}
